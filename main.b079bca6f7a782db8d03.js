(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"8TmD":function(e,t){window.renderFilms=[],window.genres=[],window.pageNumber=1,window.inputVaue="",window.selectFilm={}},"8hDD":function(e,t,n){var a=n("mp5j");e.exports=(a.default||a).template({1:function(e,t,n,a,l){return'                    <li class="detailPage_movie_tag_genre_list_item">'+e.escapeExpression(e.lambda(t,t))+",</li>\r\n"},compiler:[8,">= 4.3.0"],main:function(e,t,n,a,l){var r,i,o=null!=t?t:e.nullContext||{},c=e.hooks.helperMissing,u="function",s=e.escapeExpression,d=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="detailPage_wrapper">\r\n    <img src="https://image.tmdb.org/t/p/w500'+s(typeof(i=null!=(i=d(n,"poster_path")||(null!=t?d(t,"poster_path"):t))?i:c)===u?i.call(o,{name:"poster_path",hash:{},data:l,loc:{start:{line:2,column:45},end:{line:2,column:60}}}):i)+'" alt='+s(typeof(i=null!=(i=d(n,"title")||(null!=t?d(t,"title"):t))?i:c)===u?i.call(o,{name:"title",hash:{},data:l,loc:{start:{line:2,column:66},end:{line:2,column:75}}}):i)+' class="detailPage_img" />\r\n    <div class="detailPage_description_wrapper">\r\n        <h3 class="detailPage_h3">'+s(typeof(i=null!=(i=d(n,"title")||(null!=t?d(t,"title"):t))?i:c)===u?i.call(o,{name:"title",hash:{},data:l,loc:{start:{line:4,column:34},end:{line:4,column:43}}}):i)+" ("+s(typeof(i=null!=(i=d(n,"release_date")||(null!=t?d(t,"release_date"):t))?i:c)===u?i.call(o,{name:"release_date",hash:{},data:l,loc:{start:{line:4,column:45},end:{line:4,column:61}}}):i)+')</h3>\r\n        <ul class="detailPage_movie_tags">\r\n            <li class="detailPage_movie_tag">\r\n                <span class="detailPage_movie_tag_name">vote / votes</span>\r\n                <span>'+s(typeof(i=null!=(i=d(n,"vote_average")||(null!=t?d(t,"vote_average"):t))?i:c)===u?i.call(o,{name:"vote_average",hash:{},data:l,loc:{start:{line:8,column:22},end:{line:8,column:38}}}):i)+" / "+s(typeof(i=null!=(i=d(n,"vote_count")||(null!=t?d(t,"vote_count"):t))?i:c)===u?i.call(o,{name:"vote_count",hash:{},data:l,loc:{start:{line:8,column:41},end:{line:8,column:55}}}):i)+'</span>\r\n            </li>\r\n            <li class="detailPage_movie_tag">\r\n                <span class="detailPage_movie_tag_name">popularity</span>\r\n                <span>'+s(typeof(i=null!=(i=d(n,"popularity")||(null!=t?d(t,"popularity"):t))?i:c)===u?i.call(o,{name:"popularity",hash:{},data:l,loc:{start:{line:12,column:22},end:{line:12,column:36}}}):i)+'</span>\r\n            </li>\r\n            <li class="detailPage_movie_tag">\r\n                <span class="detailPage_movie_tag_name">original title</span>\r\n                <span>'+s(typeof(i=null!=(i=d(n,"original_title")||(null!=t?d(t,"original_title"):t))?i:c)===u?i.call(o,{name:"original_title",hash:{},data:l,loc:{start:{line:16,column:22},end:{line:16,column:40}}}):i)+'</span>\r\n            </li>\r\n            <li class="detailPage_movie_tag">\r\n                <span class="detailPage_movie_tag_name">genre</span>\r\n                <ul class="detailPage_movie_tag_genre_list">\r\n'+(null!=(r=d(n,"each").call(o,null!=t?d(t,"genres"):t,{name:"each",hash:{},fn:e.program(1,l,0),inverse:e.noop,data:l,loc:{start:{line:21,column:20},end:{line:23,column:29}}}))?r:"")+'                </ul>\r\n            </li>\r\n        </ul>\r\n        <h3 class="detailPage_h3">About</h3>\r\n        <p class="detailPage_overview">'+s(typeof(i=null!=(i=d(n,"overview")||(null!=t?d(t,"overview"):t))?i:c)===u?i.call(o,{name:"overview",hash:{},data:l,loc:{start:{line:28,column:39},end:{line:28,column:51}}}):i)+'</p>\r\n        <div class="detailPage_button_block_wrapper">\r\n            <button type="button" id="button_watched" class="detailPage_img_btn">\r\n            </button>\r\n            <button type="button" id="button_queue" class="detailPage_img_btn">\r\n            </button>\r\n        </div>\r\n    </div>\r\n</div>'},useData:!0})},BNZ9:function(e,t,n){},JZ7u:function(e,t,n){var a=n("mp5j");e.exports=(a.default||a).template({1:function(e,t,n,a,l){var r,i=null!=t?t:e.nullContext||{},o=e.hooks.helperMissing,c="function",u=e.escapeExpression,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<li class="card__container">\r\n    <div class="card__mark">'+u(typeof(r=null!=(r=s(n,"vote_average")||(null!=t?s(t,"vote_average"):t))?r:o)===c?r.call(i,{name:"vote_average",hash:{},data:l,loc:{start:{line:3,column:28},end:{line:3,column:44}}}):r)+'</div>\r\n    <div class="card__title">'+u(typeof(r=null!=(r=s(n,"title")||(null!=t?s(t,"title"):t))?r:o)===c?r.call(i,{name:"title",hash:{},data:l,loc:{start:{line:4,column:29},end:{line:4,column:38}}}):r)+'</div>\r\n    <img class="card__img"  src="https://image.tmdb.org/t/p/w500/'+u(typeof(r=null!=(r=s(n,"backdrop_path")||(null!=t?s(t,"backdrop_path"):t))?r:o)===c?r.call(i,{name:"backdrop_path",hash:{},data:l,loc:{start:{line:5,column:65},end:{line:5,column:82}}}):r)+'" \r\n    alt="'+u(typeof(r=null!=(r=s(n,"title")||(null!=t?s(t,"title"):t))?r:o)===c?r.call(i,{name:"title",hash:{},data:l,loc:{start:{line:6,column:9},end:{line:6,column:18}}}):r)+'" data-id="'+u(typeof(r=null!=(r=s(n,"id")||(null!=t?s(t,"id"):t))?r:o)===c?r.call(i,{name:"id",hash:{},data:l,loc:{start:{line:6,column:29},end:{line:6,column:37}}}):r)+'">\r\n    </li>\r\n'},compiler:[8,">= 4.3.0"],main:function(e,t,n,a,l){var r;return(null!=(r=(e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]})(n,"each").call(null!=t?t:e.nullContext||{},t,{name:"each",hash:{},fn:e.program(1,l,0),inverse:e.noop,data:l,loc:{start:{line:1,column:0},end:{line:8,column:9}}}))?r:"")+"\r\n"},useData:!0})},QfWi:function(e,t,n){"use strict";n.r(t);n("/YXa"),n("JBxO"),n("Muwe"),n("WoWj"),n("X5mX"),n("U00V"),n("9DLp"),n("BNZ9"),n("yjly"),n("8TmD"),n("lmye"),n("FdtR");var a="https://api.themoviedb.org/3/",l="60413e4c0935df0adbee558138220381",r={page:1,query:"",fetchPopularMoviesList:function(){var e=this;return fetch("https://api.themoviedb.org/3/movie/popular?api_key=60413e4c0935df0adbee558138220381&language=en-US&page="+this.page).then((function(e){return e.json()})).then((function(e){return e.results})).then((function(t){return e.incrementPage(),t}))},fetchGenres:function(){return fetch("https://api.themoviedb.org/3/genre/movie/list?api_key=60413e4c0935df0adbee558138220381&language=en-US").then((function(e){return e.json()})).then((function(e){return e.genres})).then((function(e){e.map((function(e){genres.push(e)}))}))},fetchFilms:function(){var e=this;return fetch(a+"search/movie?api_key="+l+"&language=en-US&query="+this.query+"&page="+this.page+"&include_adult=false").then((function(e){return e.json()})).then((function(t){return e.incrementPage(),console.log(t.results),t.results}))},get searchQuery(){return this.query},set searchQuery(e){this.query=e},incrementPage:function(){this.page+=1},resetPage:function(){this.page=1},fetchMovieDetails:function(e){return fetch(a+"movie/"+e+"?api_key="+l).then((function(e){return e.json()}))}},i=document.createDocumentFragment();function o(e){var t=e.backdrop_path,n=e.title,a=e.id,l=e.vote_average,r=document.querySelector(".cards__container"),i=document.createElement("a");i.href="/details?filmId="+a;var o=document.createElement("li");o.className="card__container";var c=document.createElement("div");c.className="card__mark",c.innerHTML=0!==l?l:"--";var u=document.createElement("div");u.className="card__title",u.innerHTML=n;var s=document.createElement("img");s.className="card__img";var d=null!==t?"https://image.tmdb.org/t/p/w500/"+t:"https://image.tmdb.org/t/p/w500//gkuyOdCeuKLdOlwQIUF44SHsYCq.jpg";return s.setAttribute("src",d),s.setAttribute("alt",n),o.append(c,u,s),i.append(o),r.appendChild(i),i}function c(){var e=document.querySelector(".cards__container");r.fetchPopularMoviesList().then((function(t){t.map((function(e){renderFilms.push(e),o(e),i.append(o(e))})),e.innerHTML="",e.append(i)})),r.fetchGenres()}n("JZ7u");var u=function(){document.querySelector("#search-form").addEventListener("submit",d),document.querySelector('button[data-action="load-more"]').addEventListener("click",m)};function s(e){var t=e.backdrop_path,n=e.title,a=e.id,l=e.vote_average,r=document.querySelector(".cards__container"),i=document.createElement("a");i.href="/details?filmId="+a;var o=document.createElement("li");o.className="card__container";var c=document.createElement("div");c.className="card__mark",c.innerHTML=0!==l?l:"--";var u=document.createElement("div");u.className="card__title",u.innerHTML=n;var s=document.createElement("img");s.className="card__img";var d=null!==t?"https://image.tmdb.org/t/p/w500/"+t:"https://image.tmdb.org/t/p/w500//gkuyOdCeuKLdOlwQIUF44SHsYCq.jpg";return s.setAttribute("src",d),s.setAttribute("alt",n),o.append(c,u,s),i.append(o),r.appendChild(i),i}function d(e){e.preventDefault();var t=e.currentTarget.elements.query.value;console.log(t),document.querySelector("#films-gallery").innerHTML="",r.resetPage(),r.searchQuery=t,r.fetchFilms().then(console.log());var n=document.querySelector(".cards__container"),a=document.createDocumentFragment();r.fetchFilms().then((function(e){e.map((function(e){renderFilms.push(e),s(e),a.append(s(e))})),n.innerHTML="",n.append(a)}))}function m(){var e=document.querySelector(".cards__container"),t=document.createDocumentFragment();r.fetchFilms().then((function(n){n.map((function(e){renderFilms.push(e),s(e),t.append(s(e))})),e.innerHTML="",e.append(t)}))}n("wCa+");var p=function(e){!function(e){r.fetchMovieDetails(e).then((function(e){return Object.assign(selectFilm,e)})),r.fetchGenres((function(e){return e.map((function(e){return genres.push(e)}))}))}(e)};n("hi3g"),n("lYjL"),n("IvQZ"),n("WB5j"),n("D/wG"),n("4NM0"),n("wcNg");var h=n("8hDD"),v=n.n(h);function g(e,t,n,a,l,r,i){try{var o=e[r](i),c=o.value}catch(e){return void n(e)}o.done?t(c):Promise.resolve(c).then(a,l)}function f(e){return function(){var t=this,n=arguments;return new Promise((function(a,l){var r=e.apply(t,n);function i(e){g(r,a,l,i,o,"next",e)}function o(e){g(r,a,l,i,o,"throw",e)}i(void 0)}))}}var _=function(){return window.innerWidth>=768&&window.innerWidth<=1023?"https://image.tmdb.org/t/p/w400":window.innerWidth>=1024?"https://image.tmdb.org/t/p/w500":"https://image.tmdb.org/t/p/w300"},b=function(e){!function(e){r.fetchMovieDetails(e).then(y),y(selectFilm)}(e),window.onload=function(){t(),document.querySelector("#button_watched").addEventListener("click",n),document.querySelector("#button_queue").addEventListener("click",a)};var t=function(){var e=document.querySelector("#button_watched"),t=document.querySelector("#button_queue"),n=JSON.parse(localStorage.getItem("filmsWatched"))||[],a=JSON.parse(localStorage.getItem("filmsQueue"))||[],l=n.includes(selectFilm.id),r=a.includes(selectFilm.id);l?(e.textContent="Remove from viewed",e.classList.remove("detailPage_video_on"),e.classList.add("detailPage_video_off")):(e.textContent="Add to viewed",e.classList.remove("detailPage_video_off"),e.classList.add("detailPage_video_on")),r?(t.textContent="Remove from queue",t.classList.remove("detailPage_calendar_plus"),t.classList.add("detailPage_calendar_minus")):(t.textContent="Add to queue",t.classList.remove("detailPage_calendar_minus"),t.classList.add("detailPage_calendar_plus"))},n=function(){var e=JSON.parse(localStorage.getItem("filmsWatched"))||[],n=e.includes(selectFilm.id)?e.filter((function(e){return e!==selectFilm.id})):[].concat(e,[selectFilm.id]);localStorage.setItem("filmsWatched",JSON.stringify(n)),t()},a=function(){var e=JSON.parse(localStorage.getItem("filmsQueue"))||[],n=e.includes(selectFilm.id)?e.filter((function(e){return e!==selectFilm.id})):[].concat(e,[selectFilm.id]);localStorage.setItem("filmsQueue",JSON.stringify(n)),t()}};function y(e){var t,n=function(e){function t(){return(t=f(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.release_date=e.release_date.slice(0,4),e.genres=e.genres.map((function(e){return e.name.toLowerCase()})),e.changingWidthPicture=_();case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object.assign(e,function(){return t.apply(this,arguments)}()),v()(e)}(e);t=n,document.querySelector("#detailsPage").innerHTML=t}n("8cZI"),document.querySelector("#mylib-home"),document.querySelector(".home__list-item"),document.querySelector("#watched-button"),document.querySelector("#queue-button");var w=function(){console.log("swichmyListLibrary"),document.querySelector("#watched-button").addEventListener("click",L),document.querySelector("#queue-button").addEventListener("click",q),q()};function q(){console.log("queueBtnHandler"),function(){var e=document.querySelector("#watched-button"),t=document.querySelector("#queue-button"),n=document.querySelector("#mylib-home");document.querySelector(".home__list-item");e.classList.remove("active-nav-button"),t.classList.add("active-nav-button");var a=JSON.parse(localStorage.getItem("filmsQueue"));if(console.log(a),null===a||0===a.length)return n.insertAdjacentHTML("beforeend",'<div class="no-list">\n            <h2 class="no-list__item">You do not have to queue movies to watch. Add them.</h2>\n              </div>');var l=a.map((function(e){r.fetchMovieDetails(e).then(S),console.log(e)})).join("");n.innerHTML="",n.insertAdjacentHTML("beforeend",l)}()}function L(){console.log("watchedBtnHandler"),function(){var e=document.querySelector("#watched-button"),t=document.querySelector("#queue-button"),n=document.querySelector("#mylib-home");document.querySelector(".home__list-item");t.classList.remove("active-nav-button"),e.classList.add("active-nav-button");var a=JSON.parse(localStorage.getItem("filmsWatched"));if(null===a||0===a.length)return n.insertAdjacentHTML("beforeend",'<div class="no-list"\n            <h2 class="no-list__item">You do not have watched movies. Add them.</h2>\n              </div>');var l=a.map((function(e){r.fetchMovieDetails(e).then(S),console.log(e)})).join("");n.innerHTML="",n.insertAdjacentHTML("beforeend",l)}()}function S(e){var t=e.backdrop_path,n=e.title,a=e.id,l=e.vote_average,r=document.querySelector("#mylib-home"),i=document.createElement("a");i.href="/details?filmId="+a;var o=document.createElement("li");o.className="card__container";var c=document.createElement("div");c.className="card__mark",c.innerHTML=0!==l?l:"--";var u=document.createElement("div");u.className="card__title",u.innerHTML=n;var s=document.createElement("img");s.className="card__img";var d=null!==t?"https://image.tmdb.org/t/p/w500/"+t:"https://image.tmdb.org/t/p/w500//gkuyOdCeuKLdOlwQIUF44SHsYCq.jpg";return s.setAttribute("src",d),s.setAttribute("alt",n),o.append(c,u,s),i.append(o),r.appendChild(i),i}!function(){var e,t=document.getElementById("root"),n=location.pathname,a=location.search;switch(n){case"/":!function(e){e.insertAdjacentHTML("beforeend",'\n      <div class="search-wrapper">\n        <form id="search-form" class="form_search">\n          <input\n            type="text"\n            name="query"\n            autocomplete="off"\n            placeholder="Write movie name and click"\n            class="input_search"\n          />\n          <button type="submit" class="button_search"><i class="material-icons">search</i></button>\n        </form>\n      </div>\n\n      <div>\n        <ul class="cards__container" id="films-gallery"></ul>\n      </div>\n\n      <div class="pagination">\n        <button tupe="button" data-action="load-more" class="load-more-Btn">Next page</button> \n      </div>    \n    ')}(t),e=document.querySelector(".cards__container"),r.fetchPopularMoviesList().then((function(t){t.map((function(e){renderFilms.push(e),o(e),i.append(o(e))})),e.innerHTML="",e.append(i)})),r.fetchGenres(),document.querySelector('button[data-action="load-more"]').addEventListener("click",c),u();break;case"/details":!function(e){e.insertAdjacentHTML("beforeend",'\n    <div class="detailsPage__wrapper">\n        <div id="detailsPage"></div>\n    </div>\n    ')}(t);var l=new URLSearchParams(a).get("filmId");p(l),b(l);break;case"/library":!function(e){console.log("insertAdjacentHTML");e.insertAdjacentHTML("beforeend",'\n    <div class="libraryBox">\n    <nav class="libnav">\n      <div class="libnav__list">\n        <button type="button" id="watched-button" data-action="watched-button" class="libnav__button">\n          Watched\n        </button>\n        <button type="button" id="queue-button" data-action="queue-button" class="libnav__button">\n          Queue\n        </button>\n      </div>\n    </nav>\n    <ul id="mylib-home" class="home__list"></ul>\n  </div>\n    ')}(t),w()}}()},yjly:function(e,t,n){}},[["QfWi",1,2]]]);
//# sourceMappingURL=main.b079bca6f7a782db8d03.js.map